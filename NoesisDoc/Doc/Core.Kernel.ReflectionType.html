<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.13.1: http://docutils.sourceforge.net/" />
<title>noesisGUI Documentation: NoesisEngine Type Reflection Model</title>


    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="description" content="NoesisGUI Documentation"/>
    
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
    <link rel="shortcut icon" href="/favicon.ico">

    <!--script src="https://use.typekit.net/taq4txx.js"></script-->
    <!--script>try{Typekit.load({ async: true });}catch(e){}</script-->

    <link rel="stylesheet" href="style/noesis.css" type="text/css" media="all"/>

    <script type="text/javascript" src="/js/googleAnalytics.js?version=1.0"></script>
    <!--[if lt IE 7]><script src="http://ie7-js.googlecode.com/svn/version/2.0(beta3)/IE7.js" type="text/javascript"></script><![endif]-->

    <script src="/js/vendor/modernizr.js"></script>


</head>
<body>
<div class="document" id="noesisengine-type-reflection-model-reflection">


    <!-- NOESIS WEB ------- BEGIN ------- -->

    <div class="developers documentation">

        <!--[if lt IE 9]>
        <script type="text/javascript" src="/js/vendor/selectivizr.js"></script>
        <script type="text/javascript" src="/js/vendor/respond.js"></script>
        <div class="old-browser-warning">
            You are using a very old browser.<br>
            To get the best possible experience using our website we recommend that you upgrade to a newer version or other web browser. <br>
            A list of the most popular web browsers <a href="http://browsehappy.com/">can be found here</a>
        </div>
        <![endif]-->

        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <symbol id="svg-icon-social-vimeo" width="30" height="30" viewBox="-26 20 30 30">
                <path d="M-23,30.2c2.1-1.7,5.1-4.8,7.5-4.8c2.3,0,2.9,2.2,3.2,4.7c0.3,2.5,1.2,7.8,2.5,7.8 c1.2,0,4.1-4.7,3.9-6.6c-0.2-1.8-2.2-1.6-3.3-1c1-3.7,3.4-5.8,6.5-5.8c3.1,0,3.8,2.3,3.8,4.9c0,3.9-8.2,16-13.1,16 c-3.1,0-3.8-4.4-4.4-6.6c-0.6-2.2-1.8-7.9-3.3-8.3c-0.6-0.1-2.1,1.1-2.1,1.1L-23,30.2z"/>
            </symbol>
            <symbol id="svg-icon-social-google" width="30" height="30" viewBox="-25 24 30 30">
                <path d="M-6.3 45.9c0 1-.3 2-.8 2.8-1.7 2.9-5.2 3.9-8.3 3.9-2.5 0-5.5-.6-6.9-2.9-.4-.6-.6-1.4-.6-2.1 0-1.9 1.1-3.4 2.7-4.3 1.9-1.2 4.4-1.5 6.6-1.6-.6-.8-1-1.4-1-2.4 0-.5.1-.9.3-1.4-.4 0-.7.1-1.1.1-3.2 0-5.8-2.3-5.8-5.6 0-1.8.9-3.6 2.2-4.8 1.8-1.5 4.3-2.1 6.6-2.1h6.9l-2.3 1.4H-10c1.5 1.3 2.5 2.7 2.5 4.8 0 4.2-3.9 4.7-3.9 6.8 0 2 5.1 2.7 5.1 7.4zm-2.3 1.4c0-2.2-2.2-3.6-3.8-4.7h-.8c-2.7 0-6.6.9-6.6 4.2 0 3.2 3.5 4.3 6.1 4.3 2.4 0 5.1-1 5.1-3.8zm-2.8-11.5c.7-.7.9-1.6.9-2.6 0-2.4-1.4-6.5-4.4-6.5-.9 0-1.9.5-2.4 1.2-.6.7-.8 1.7-.8 2.6 0 2.5 1.4 6.3 4.3 6.3.8 0 1.8-.4 2.4-1zm14.4.9v1.8H-.5v3.6h-1.7v-3.6h-3.5v-1.8h3.5v-3.6h1.7v3.6H3z">
            </symbol>
            <symbol id="svg-icon-social-twitter" width="30" height="30" viewBox="-25 20 30 30">
                <path d="M.4 29.7v.7c0 7-5.3 15.1-15.1 15.1-3 0-5.8-.9-8.1-2.4.4 0 .8.1 1.3.1 2.5 0 4.8-.8 6.6-2.3-2.3 0-4.3-1.6-5-3.7.3 0 .7.1 1 .1.5 0 1-.1 1.4-.2-2.4-.5-4.2-2.6-4.2-5.2v-.1c.7.4 1.5.6 2.4.7-1.4-1-2.4-2.6-2.4-4.4 0-1 .3-1.9.7-2.7 2.6 3.2 6.5 5.3 10.9 5.5-.1-.4-.1-.8-.1-1.2 0-2.9 2.4-5.3 5.3-5.3 1.5 0 2.9.6 3.9 1.7 1.2-.2 2.3-.7 3.4-1.3C2 26 1.2 27.1.1 27.7c1.1-.1 2.1-.4 3.1-.8C2.4 28 1.4 29 .4 29.7z">
            </symbol>
            <symbol id="svg-icon-social-facebook" width="30" height="30" viewBox="-31 24 30 30">
                <path d="M-8.7 29.8h-2.6c-2 0-2.4 1-2.4 2.4v3.1h4.8l-.6 4.9h-4.2v12.5h-5V40.1h-4.2v-4.9h4.2v-3.6c0-4.2 2.5-6.4 6.2-6.4 1.8 0 3.3.1 3.7.2v4.4z">
            </symbol>
            <symbol id="svg-icon-social-youtube" width="30" height="30" viewBox="-26 25 30 30">
                <path d="M.9 52c-.3 1.3-1.4 2.2-2.6 2.4-3 .3-6.1.3-9.1.3s-6.1 0-9.1-.3c-1.3-.1-2.3-1.1-2.6-2.4-.5-1.9-.5-3.9-.5-5.8s0-3.9.4-5.7c.3-1.3 1.4-2.2 2.6-2.4 3-.3 6.1-.3 9.1-.3s6.1 0 9.1.3c1.3.1 2.3 1.1 2.6 2.4.4 1.8.4 3.8.4 5.7.1 1.9.1 3.9-.3 5.8zm-17-9.8v-1.5h-5.1v1.5h1.7v9.3h1.6v-9.3h1.8zm2.7-16.9l-2 6.5v4.4H-17v-4.4c-.1-.8-.5-2-1-3.5-.4-1-.7-2.1-1.1-3.1h1.7l1.2 4.3 1.1-4.3h1.7zm1.8 26.2v-8.1h-1.5v6.2c-.3.5-.6.7-.9.7-.2 0-.3-.1-.3-.3v-6.6h-1.5v6.4c0 .6 0 1 .1 1.2.1.4.5.6 1 .6s1.1-.3 1.7-1v.9h1.4zM-9 33.6c0 .9-.1 1.5-.5 1.9-.4.6-1 .8-1.7.8s-1.3-.3-1.7-.8c-.3-.4-.5-1.1-.5-1.9v-2.9c0-.9.1-1.5.5-1.9.4-.6 1-.8 1.7-.8.8 0 1.3.3 1.7.8.3.4.5 1 .5 1.9v2.9zm-1.5-3.1c0-.8-.2-1.1-.7-1.1-.5 0-.7.4-.7 1.1v3.4c0 .8.2 1.1.7 1.1.5 0 .7-.4.7-1.1v-3.4zM-6 45.8c0-.8 0-1.3-.1-1.6-.2-.6-.6-.9-1.2-.9-.5 0-1 .3-1.5.9v-3.6h-1.5v10.9h1.5v-.8c.5.6 1 .9 1.5.9.6 0 1-.3 1.2-.9.1-.3.1-.9.1-1.6v-3.3zm-1.5 3.4c0 .7-.2 1.1-.6 1.1-.2 0-.5-.1-.7-.4V45c.2-.2.5-.4.7-.4.4 0 .6.4.6 1.1v3.5zm4-12.9H-5v-.9c-.6.7-1.1 1-1.7 1-.5 0-.8-.2-1-.6-.1-.2-.1-.6-.1-1.2v-6.5h1.5v6.6c0 .2.1.4.3.4.3 0 .6-.2.9-.7v-6.2h1.5v8.1zm3 12.4H-2v1c-.1.4-.3.6-.7.6-.5 0-.8-.4-.8-1.1v-1.4h2.9V46c0-.9-.1-1.5-.4-1.9-.4-.6-1-.8-1.7-.8-.8 0-1.3.3-1.8.8-.3.4-.5 1-.5 1.9v2.8c0 .9.2 1.5.5 1.9.4.6 1 .8 1.8.8s1.4-.3 1.8-.9c.2-.3.3-.6.3-.9v-1zM-2 46.5h-1.5v-.8c0-.7.2-1.1.7-1.1s.8.4.8 1.1v.8z">
            </symbol>
            <symbol id="svg-icon-social-linkedin" width="30" height="30" viewBox="-26 25 30 30">
                <path d="M-22.6 51.3h5v-15h-5v15zm17.8-15.5c-2.2 0-3.5.8-4.8 2.6v-2.1h-5v15h5v-8.1c0-1.7.9-3.4 2.8-3.4 2 0 3.2 1.7 3.2 3.4v8.2h5v-8.5c0-6-4-7.1-6.2-7.1zM-20.1 29c-1.6 0-2.9 1.2-2.9 2.6 0 1.5 1.3 2.6 2.9 2.6 1.6 0 2.9-1.2 2.9-2.6.1-1.4-1.2-2.6-2.9-2.6z">
            </symbol>
            <symbol id="svg-scroll-down" width="48" height="48" viewBox="0 0 48 48">
                <path d="M24 1C11.3 1 1 11.3 1 24s10.3 23 23 23 23-10.3 23-23S36.7 1 24 1zm0 31.5L11.9 21.6l1.3-1.5L24 29.8l10.7-9.7 1.3 1.5-12 10.9z">
            </symbol>
        </svg>

        <header id="header" class="SOZO-header js-hide-nav">

            <div class="wrapper">

                <a href="/" class="logo animate-me" title="Noesis">
                    <img src="/images/logos/noesis-gui-logo.svg" alt="NoesisGUI">
                </a>

                <div class="user-management">
                    <iframe src="/includes/user.php" scrolling="no"></iframe>
                </div>

                <a title="Menu" href="/" class="mobile-menu" rel="nofollow">
                    <i class="burger-icon"></i>
                </a>

                <nav class="primary-nav site-nav" role="navigation">
                    <ul>
                        <li><a href="/" title="NoesisGUI Main Features"><span>features</span></a></li>
                        <li><a href="/licensing.php" title="NoesisGUI Licensing"><span>licensing</span></a></li>
                        <li class="has-children"><a data-id="child-nav" href="/forums" title="NoesisGUI Developer Resources" class="js-mobile-2nd-nav active"><span>developer</span></a>
                            <nav class="child-nav" id="child-nav">
                                <ul>
                                    <li><a href="/forums" title="NoesisGUI Forums">forums</a></li>
                                    <li><a href="/developers/samples.php" title="NoesisGUI Samples">samples</a></li>
                                    <li><a href="/developers/downloads.php" title="NoesisGUI Downloads">downloads</a></li>
                                    <li><a href="/docs/Gui.Core.Index.html" title="NoesisGUI Documentation" class="active">documentation</a></li>
                                    <li><a href="/docs/Gui.Core.Changelog.html" title="NoesisGUI Version Changelog">changelog</a></li>
                                    <li><a href="https://bugs.noesisengine.com" target="_blank" rel="nofollow" title="NoesisGUI Bug Tracker">bugtracker</a></li>
                                    <li><a href="https://trello.com/b/ktVkZaBG/noesisgui" target="_blank" rel="nofollow" title="NoesisGUI Roadmap">roadmap</a></li>
                                </ul>
                            </nav>
                        </li>
                        <li><a href="/contact.php" title="Contact Information"><span>Contact</span></a></li>
                    </ul>
                </nav>

            </div>

        </header>

        <header id="doc-header">
            <img src="noesis-gui-logo.svg" alt="NoesisGUI">
        </header>

        <div class="main-content" role="main">

            <nav id="noesis-secondary-nav" class="secondary-nav site-nav js-hide-nav">
                <div class="wrapper">
                    <ul>
                        <li><a href="/forums" title="NoesisGUI Forums">forums</a></li>
                        <li><a href="/developers/samples.php" title="NoesisGUI Samples">samples</a></li>
                        <li><a href="/developers/downloads.php" title="NoesisGUI Downloads">downloads</a></li>
                        <li><a href="/docs/Gui.Core.Index.html" title="NoesisGUI Documentation" class="active">documentation</a></li>
                        <li><a href="/docs/Gui.Core.Changelog.html" title="NoesisGUI Version Changelog">changelog</a></li>
                        <li><a href="https://bugs.noesisengine.com" target="_blank" rel="nofollow" title="NoesisGUI Bug Tracker">bugtracker</a></li>
                        <li><a href="https://trello.com/b/ktVkZaBG/noesisgui" target="_blank" rel="nofollow" title="roadmap">roadmap</a></li>
                    </ul>
                </div>
            </nav>


            <div class="documentation-article">

                <div class="wrapper">

                    <div id="noesis_web_contenidosMain" class="noesis_web_contenidosMain sozo-content">
                        <div id="noesis_doc_wrap">

                            <div class="noesis_doc_header_menu">
                                <a href="Gui.Core.Index.html" class="noesis_doc_header_link">Documentation Index</a>
                            </div>

                            <div class="noesis_doc_content">

        <!-- NOESIS WEB ------- END ------- -->


<h1 class="title">NoesisEngine Type Reflection Model (Reflection)</h1>

<p>Reflection is the ability of a program to inspect in run-time the structure and state of the data with the possibility of modifying it. Languages as Java or C# incorporate such functionality by default. However, in C++ language it is not possible to obtain this kind of information directly.</p>
<p>Having reflection information in run-time allows for advanced features. For example, with the reflection information about a class, an automatic dialog could be generated to edit that class. Or it could be automatically serialized to disk.</p>
<p>NoesisEngine defines reflection capabilities extending the <a class="reference external" href="Core.Kernel.ReflectionRTTI.html">RTTI</a> system. For each class deriving from the base <strong>Type</strong> class, new methods are implemented that expose reflection information for each kind of object. That hierarchy is exposed here and explained in detail in next sections:</p>
<img alt="Reflection.jpg" src="Reflection.jpg" />
<p>In order to be able to use these classes you must include the file <em>Reflection.h</em> and only this one. This file includes all necessary headers.</p>
<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;NsCore/Reflection.h&gt;</span><span class="cp"></span>
</pre></div>
<div class="section" id="type">
<h1>Type</h1>
<p>Is the base class for RTTI system. Type objects identify basic types as integers, floats, characters, etc. It provides a name for the type that can be used for debugging purposes.</p>
<div class="highlight"><pre><span></span><span class="k">const</span> <span class="n">Type</span><span class="o">*</span> <span class="n">intType</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">NsInt</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">NS_INFO</span><span class="p">(</span><span class="n">NST</span><span class="p">(</span><span class="s">&quot;Integers Type object name is %hs&quot;</span><span class="p">),</span> <span class="n">intType</span> <span class="n">GetName</span><span class="p">());</span>
</pre></div>
</div>
<div class="section" id="typereference-typepointer-typeptr">
<h1>TypeReference, TypePointer, TypePtr</h1>
<p>References, pointers and Ptr types are identified by TypeReference, TypePointer and TypePtr objects respectively. Through those objects we can access the type of the pointed object in two ways:</p>
<ul class="simple">
<li><strong>Static type</strong>: The functions <em>GetStaticContentType()</em> and <em>GetStaticContent()</em> return the static type of the pointed object.</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">A</span> <span class="p">{};</span>

<span class="k">const</span> <span class="n">TypePointer</span><span class="o">*</span> <span class="n">typePointer</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">A</span><span class="o">*&gt;</span><span class="p">();</span>

<span class="n">NS_ASSERT</span><span class="p">(</span><span class="n">typePointer</span><span class="o">-&gt;</span><span class="n">GetStaticContentType</span><span class="p">()</span> <span class="o">==</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="p">());</span>
</pre></div>
<ul class="simple">
<li><strong>Dynamic type</strong>: The functions <em>GetContentType()</em> and <em>GetContent()</em> return the dynamic type of the pointed object. This functions have sense in pointers to polymorphic classes, so we can get the type of the implementation class instead of the static type of the pointer.</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="nl">B</span><span class="p">:</span> <span class="k">public</span> <span class="n">A</span> <span class="p">{};</span>

<span class="n">A</span><span class="o">*</span> <span class="n">object</span> <span class="o">=</span> <span class="k">new</span> <span class="n">B</span><span class="p">;</span>
<span class="k">const</span> <span class="n">TypePointer</span><span class="o">*</span> <span class="n">typePointer</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">A</span><span class="o">*&gt;</span><span class="p">();</span>

<span class="n">NS_ASSERT</span><span class="p">(</span><span class="n">typePointer</span><span class="o">-&gt;</span><span class="n">GetContentType</span><span class="p">(</span><span class="n">object</span><span class="p">)</span> <span class="o">==</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">B</span><span class="o">&gt;</span><span class="p">());</span>
</pre></div>
</div>
<div class="section" id="typeclass">
<h1>TypeClass</h1>
<p>TypeClass objects identify classes, components and interfaces, and can be obtained applying <em>TypeOf</em> to the desired class.</p>
<div class="highlight"><pre><span></span><span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">typeClass</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">SampleSystem</span><span class="o">&gt;</span><span class="p">();</span>
</pre></div>
<p>When you have an instance of a class, you could use RTTI object function <em>GetClassType()</em> instead. This functions are defined with the reflection macros also.</p>
<div class="highlight"><pre><span></span><span class="n">Ptr</span><span class="o">&lt;</span><span class="n">IRenderSystem</span><span class="o">&gt;</span> <span class="n">renderSystem</span> <span class="o">=</span> <span class="n">NsGetSystem</span><span class="o">&lt;</span><span class="n">IRenderSystem</span><span class="o">&gt;</span><span class="p">();</span>
<span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">typeClass</span> <span class="o">=</span> <span class="n">renderSystem</span><span class="o">-&gt;</span><span class="n">GetClassType</span><span class="p">();</span>
<span class="n">NS_INFO</span><span class="p">(</span><span class="n">NST</span><span class="p">(</span><span class="s">&quot;Current render system implementation is %hs&quot;</span><span class="p">),</span> <span class="n">typeClass</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">());</span>
</pre></div>
<p>As explained in the <a class="reference external" href="Core.Kernel.ReflectionRTTI.html">RTTI</a> section, reflection macros are used to describe a class. In that document it is explained how to specify the class name and the base class. Here, we extend the macros to add more information to our classes.</p>
<div class="section" id="interface-implementation">
<h2>Interface Implementation</h2>
<p>Components can add the list of interfaces that they implement to their TypeClass object using the <strong>NsImpl&lt;&gt;</strong> tag:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SampleSystem</span><span class="o">:</span> <span class="k">public</span> <span class="n">Core</span><span class="o">::</span><span class="n">BaseKernelSystem</span><span class="p">,</span> <span class="k">public</span> <span class="n">Core</span><span class="o">::</span><span class="n">ITickable</span><span class="p">,</span> <span class="k">public</span> <span class="n">ISampleSystem</span>
<span class="p">{</span>
    <span class="c1">/// ...</span>

    <span class="n">NS_IMPLEMENT_INLINE_REFLECTION</span><span class="p">(</span><span class="n">SampleSystem</span><span class="p">,</span> <span class="n">BaseKernelSystem</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NsImpl</span><span class="o">&lt;</span><span class="n">Core</span><span class="o">::</span><span class="n">ITickable</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">NsImpl</span><span class="o">&lt;</span><span class="n">ISampleSystem</span><span class="o">&gt;</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">/// Usage</span>
<span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">typeClass</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">SampleSystem</span><span class="o">&gt;</span><span class="p">();</span>
<span class="k">const</span> <span class="n">TypeClass</span><span class="o">::</span><span class="n">AncestorInfo</span><span class="o">*</span> <span class="n">ancestor</span> <span class="o">=</span> <span class="n">typeClass</span><span class="o">-&gt;</span><span class="n">GetAncestor</span><span class="p">(</span><span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">ISampleSystem</span><span class="o">&gt;</span><span class="p">());</span>
<span class="n">NS_INFO</span><span class="p">(</span><span class="n">NST</span><span class="p">(</span><span class="s">&quot;%hs implements %hs (offset from implementation class: %ll)&quot;</span><span class="p">),</span>
        <span class="n">typeClass</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">(),</span> <span class="n">ancestor</span><span class="o">-&gt;</span><span class="n">type</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">(),</span> <span class="n">ancestor</span><span class="o">-&gt;</span><span class="n">offset</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="properties">
<h2>Properties</h2>
<p>Classes and components can define also a list of properties into their TypeClass object. This is done with the <strong>NsProp</strong> tag:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SampleSystem</span><span class="o">:</span> <span class="k">public</span> <span class="n">Core</span><span class="o">::</span><span class="n">BaseKernelSystem</span><span class="p">,</span>
                    <span class="k">public</span> <span class="n">Core</span><span class="o">::</span><span class="n">ITickable</span><span class="p">,</span>
                    <span class="k">public</span> <span class="n">ISampleSystem</span>
<span class="p">{</span>
    <span class="c1">/// ...</span>

<span class="k">private</span><span class="o">:</span>
    <span class="n">Ptr</span><span class="o">&lt;</span><span class="n">ISample</span><span class="o">&gt;</span> <span class="n">mSample</span><span class="p">;</span>
    <span class="n">NsBool</span> <span class="n">mPaused</span><span class="p">;</span>

    <span class="n">NS_IMPLEMENT_INLINE_REFLECTION</span><span class="p">(</span><span class="n">SampleSystem</span><span class="p">,</span> <span class="n">BaseKernelSystem</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NsImpl</span><span class="o">&lt;</span><span class="n">Core</span><span class="o">::</span><span class="n">ITickable</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">NsImpl</span><span class="o">&lt;</span><span class="n">ISampleSystem</span><span class="o">&gt;</span><span class="p">();</span>

        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;sample&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">SampleSystem</span><span class="o">::</span><span class="n">mSample</span><span class="p">);</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;paused&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">SampleSystem</span><span class="o">::</span><span class="n">mPaused</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">/// Usage</span>
<span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">typeClass</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">SampleSystem</span><span class="o">&gt;</span><span class="p">();</span>
<span class="k">const</span> <span class="n">TypeProperty</span><span class="o">*</span> <span class="n">pausedProp</span> <span class="o">=</span> <span class="n">typeClass</span><span class="o">-&gt;</span><span class="n">GetProperty</span><span class="p">(</span><span class="n">NSS</span><span class="p">(</span><span class="s">&quot;paused&quot;</span><span class="p">));</span>
<span class="n">NsBool</span> <span class="n">paused</span> <span class="o">=</span> <span class="n">pausedProp</span><span class="o">-&gt;</span><span class="n">Get</span><span class="o">&lt;</span><span class="n">NsBool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">sampleSystem</span><span class="p">.</span><span class="n">GetPtr</span><span class="p">());</span>
<span class="n">pausedProp</span><span class="o">-&gt;</span><span class="n">Set</span><span class="o">&lt;</span><span class="n">NsBool</span><span class="o">&gt;</span><span class="p">(</span><span class="o">!</span><span class="n">paused</span><span class="p">);</span>
</pre></div>
<p>Array properties are supported too:</p>
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Vec3</span>
<span class="p">{</span>
    <span class="n">NsFloat</span> <span class="n">val</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

    <span class="n">NS_IMPLEMENT_INLINE_REFLECTION</span><span class="p">(</span><span class="n">Vec3</span><span class="p">,</span> <span class="n">Core</span><span class="o">::</span><span class="n">NoParent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;val&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Vec3</span><span class="o">::</span><span class="n">val</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
<p>When it is more useful to have direct access to elements in the array you define a property for each element:</p>
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Vec3</span>
<span class="p">{</span>
    <span class="n">NsFloat32</span> <span class="n">val</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

    <span class="n">NS_IMPLEMENT_INLINE_REFLECTION</span><span class="p">(</span><span class="n">Vec3</span><span class="p">,</span> <span class="n">Core</span><span class="o">::</span><span class="n">NoParent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Vec3</span><span class="o">::</span><span class="n">val</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Vec3</span><span class="o">::</span><span class="n">val</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;z&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Vec3</span><span class="o">::</span><span class="n">val</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
<p>Properties can also be defined from a pair of get/set methods:</p>
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Vec3</span>
<span class="p">{</span>
    <span class="n">NsFloat32</span> <span class="n">val</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

    <span class="n">NsFloat32</span> <span class="nf">GetX</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="p">}</span>
    <span class="kt">void</span> <span class="nf">SetX</span><span class="p">(</span><span class="n">NsFloat32</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span> <span class="p">}</span>

    <span class="n">NsFloat32</span> <span class="nf">GetY</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="p">}</span>
    <span class="kt">void</span> <span class="nf">SetY</span><span class="p">(</span><span class="n">NsFloat32</span> <span class="n">y</span><span class="p">)</span> <span class="p">{</span> <span class="n">val</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span> <span class="p">}</span>

    <span class="n">NsFloat32</span> <span class="nf">GetZ</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span> <span class="p">}</span>
    <span class="kt">void</span> <span class="nf">SetZ</span><span class="p">(</span><span class="n">NsFloat32</span> <span class="n">z</span><span class="p">)</span> <span class="p">{</span> <span class="n">val</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span> <span class="p">}</span>

    <span class="n">NS_IMPLEMENT_INLINE_REFLECTION</span><span class="p">(</span><span class="n">Vec3</span><span class="p">,</span> <span class="n">Core</span><span class="o">::</span><span class="n">NoParent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ClassTest</span><span class="o">::</span><span class="n">GetX</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ClassTest</span><span class="o">::</span><span class="n">SetX</span><span class="p">);</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ClassTest</span><span class="o">::</span><span class="n">GetY</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ClassTest</span><span class="o">::</span><span class="n">SetY</span><span class="p">);</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;z&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ClassTest</span><span class="o">::</span><span class="n">GetZ</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ClassTest</span><span class="o">::</span><span class="n">SetZ</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
<p>Note that get/set methods must be defined by copy for the following primitive types: NsInt, NsInt8, NsInt16, NsInt32, NsUInt, NsUInt8, NsUInt16, NsUInt32, NsFloat32, NsBool, NsChar8, NsChar16 and NsSymbol.
Other primitive types: NsInt64, NsUInt64 and NsFloat64, must define its get/set methods by reference, the same as in the rest of types.</p>
<p>There are two ways to mark a property as <strong>read-only</strong>: using metadata or using a getter function without specifying a setter:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Block</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">NsBool</span> <span class="n">IsVisible</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span> <span class="k">return</span> <span class="n">mIsVisible</span><span class="p">;</span> <span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
    <span class="n">NsBool</span> <span class="n">mIsVisible</span><span class="p">;</span>

    <span class="n">NS_IMPLEMENT_INLINE_REFLECTION</span><span class="p">(</span><span class="n">Block</span><span class="p">,</span> <span class="n">Core</span><span class="o">::</span><span class="n">NoParent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;IsVisible&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ClassTest</span><span class="o">::</span><span class="n">mIsVisible</span><span class="p">)</span>
            <span class="p">.</span><span class="n">Meta</span><span class="o">&lt;</span><span class="n">ReadOnly</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">NsProp</span><span class="p">(</span><span class="s">&quot;IsVisible2&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ClassTest</span><span class="o">::</span><span class="n">IsVisible</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
<p>Properties are represented by TypeProperty objects. This class is the base for reflection navigation. If a property's type is not a basic type, you could inspect the contents of the property.</p>
<div class="highlight"><pre><span></span><span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">sampleSystemType</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">SampleSystem</span><span class="o">&gt;</span><span class="p">();</span>

<span class="k">const</span> <span class="n">TypeProperty</span><span class="o">*</span> <span class="n">sampleProp</span> <span class="o">=</span> <span class="n">sampleSystemType</span><span class="o">-&gt;</span><span class="n">GetProperty</span><span class="p">(</span><span class="n">NSS</span><span class="p">(</span><span class="s">&quot;sample&quot;</span><span class="p">));</span>
<span class="k">const</span> <span class="n">Type</span><span class="o">*</span> <span class="n">propContentType</span> <span class="o">=</span> <span class="n">sampleProp</span><span class="o">-&gt;</span><span class="n">GetContentType</span><span class="p">();</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">propContent</span> <span class="o">=</span> <span class="n">sampleProp</span><span class="o">-&gt;</span><span class="n">GetContent</span><span class="p">(</span><span class="n">sampleSystem</span><span class="p">.</span><span class="n">GetPtr</span><span class="p">());</span>

<span class="k">const</span> <span class="n">TypePtr</span><span class="o">*</span> <span class="n">typePtr</span> <span class="o">=</span> <span class="n">NsDynamicCast</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">TypePtr</span><span class="o">&gt;</span><span class="p">(</span><span class="n">propContentType</span><span class="p">);</span>
<span class="k">const</span> <span class="n">Type</span><span class="o">*</span> <span class="n">ptrContentType</span> <span class="o">=</span> <span class="n">typePtr</span><span class="o">-&gt;</span><span class="n">GetContentType</span><span class="p">(</span><span class="n">propContent</span><span class="p">);</span>

<span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">sampleType</span> <span class="o">=</span> <span class="n">NsDynamicCast</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">TypeClass</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ptrContentType</span><span class="p">);</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">sampleInstance</span> <span class="o">=</span> <span class="n">typePtr</span><span class="o">-&gt;</span><span class="n">GetContent</span><span class="p">(</span><span class="n">propContent</span><span class="p">);</span>

<span class="c1">// Now we have a TypeClass that describes the type of mSample property and</span>
<span class="c1">// a pointer to the ISample instance contained in sampleSystem.</span>
<span class="c1">// So we could inspect that instance using type reflection info.</span>
</pre></div>
</div>
<div class="section" id="functions">
<h2>Functions</h2>
<p>Classes, components and interfaces can define a list of functions that are added to their TypeClass object using the <strong>NsFunc</strong>:</p>
<div class="highlight"><pre><span></span><span class="n">NS_INTERFACE</span> <span class="nl">ISampleSystem</span><span class="p">:</span> <span class="k">public</span> <span class="n">Core</span><span class="o">::</span><span class="n">Interface</span>
<span class="p">{</span>
    <span class="k">virtual</span> <span class="n">Ptr</span><span class="o">&lt;</span><span class="n">Core</span><span class="o">::</span><span class="n">IIterator</span><span class="o">&lt;</span><span class="n">NsSymbol</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">EnumSamples</span><span class="p">()</span> <span class="k">const</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">RunSample</span><span class="p">(</span><span class="n">NsSymbol</span> <span class="n">sampleId</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">PauseSample</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">virtual</span> <span class="kt">void</span> <span class="nf">StopSample</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">NS_IMPLEMENT_INLINE_REFLECTION</span><span class="p">(</span><span class="n">ISampleSystem</span><span class="p">,</span> <span class="n">Interface</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;EnumSamples&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ISampleSystem</span><span class="o">::</span><span class="n">EnumSamples</span><span class="p">);</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;RunSample&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ISampleSystem</span><span class="o">::</span><span class="n">RunSample</span><span class="p">);</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;PauseSample&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ISampleSystem</span><span class="o">::</span><span class="n">PauseSample</span><span class="p">);</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;StopSample&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">ISampleSystem</span><span class="o">::</span><span class="n">StopSample</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">/// Usage</span>
<span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">typeClass</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">ISampleSystem</span><span class="o">&gt;</span><span class="p">();</span>
<span class="k">const</span> <span class="n">TypeClass</span><span class="o">::</span><span class="n">FunctionInfo</span><span class="o">*</span> <span class="n">funcInfo</span> <span class="o">=</span> <span class="n">typeClass</span><span class="o">-&gt;</span><span class="n">GetFunction</span><span class="p">(</span><span class="n">NSS</span><span class="p">(</span><span class="s">&quot;StopSample&quot;</span><span class="p">));</span>
<span class="n">ParamStack</span> <span class="n">paramStack</span><span class="p">;</span>
<span class="n">funcInfo</span><span class="o">-&gt;</span><span class="n">function</span><span class="o">-&gt;</span><span class="n">Invoke</span><span class="p">(</span><span class="n">sampleSystem</span><span class="p">.</span><span class="n">GetPtr</span><span class="p">(),</span> <span class="n">paramStack</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="constructors-and-destructor">
<h2>Constructors and Destructor</h2>
<p>Classes and components can define a list of constructors for their TypeClass object. Constructors are used to create instances of the class or component. They are specified with the <strong>NsCtor</strong> tag:</p>
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Rect2D</span>
<span class="p">{</span>
    <span class="n">NsFloat32</span> <span class="n">left</span><span class="p">;</span>
    <span class="n">NsFloat32</span> <span class="n">top</span><span class="p">;</span>
    <span class="n">NsFloat32</span> <span class="n">right</span><span class="p">;</span>
    <span class="n">NsFloat32</span> <span class="n">bottom</span><span class="p">;</span>

    <span class="n">Rect2D</span><span class="p">();</span>

    <span class="n">NsBool</span> <span class="nf">Contains</span><span class="p">(</span><span class="n">NsFloat32</span> <span class="n">x</span><span class="p">,</span> <span class="n">NsFloat32</span> <span class="n">y</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
    <span class="n">NsBool</span> <span class="nf">Contains</span><span class="p">(</span><span class="k">const</span> <span class="n">Point2D</span><span class="o">&amp;</span> <span class="n">point</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
    <span class="n">NsBool</span> <span class="nf">Contains</span><span class="p">(</span><span class="k">const</span> <span class="n">Rect2D</span><span class="o">&amp;</span> <span class="n">rect</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="n">NS_IMPLEMENT_INLINE_REFLECTION</span><span class="p">(</span><span class="n">Rect2D</span><span class="p">,</span> <span class="n">Core</span><span class="o">::</span><span class="n">NoParent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NsCtor</span><span class="p">(</span><span class="s">&quot;New&quot;</span><span class="p">);</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;ContainsXY&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Rect2D</span><span class="o">::</span><span class="n">ContainsXY</span><span class="p">);</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;ContainsPoint&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Rect2D</span><span class="o">::</span><span class="n">ContainsPoint</span><span class="p">);</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;ContainsRect&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Rect2D</span><span class="o">::</span><span class="n">ContainsRect</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">/// Usage</span>
<span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">typeClass</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">Rect2D</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">ParamStack</span> <span class="n">paramStack</span><span class="p">;</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">typeClass</span><span class="o">-&gt;</span><span class="n">Construct</span><span class="p">(</span><span class="n">NSS</span><span class="p">(</span><span class="s">&quot;New&quot;</span><span class="p">),</span> <span class="n">paramStack</span><span class="p">);</span>
<span class="c1">// Rect2D* rect = reinterpret_cast&lt;Rect2D*&gt;(instance) would be valid</span>
</pre></div>
<p>In the same way that with functions, constructor overloading must be disambiguated. This is done specifying the list of arguments of the constructor:</p>
<div class="highlight"><pre><span></span><span class="k">struct</span> <span class="n">Rect2D</span>
<span class="p">{</span>
    <span class="n">NsFloat32</span> <span class="n">left</span><span class="p">;</span>
    <span class="n">NsFloat32</span> <span class="n">top</span><span class="p">;</span>
    <span class="n">NsFloat32</span> <span class="n">right</span><span class="p">;</span>
    <span class="n">NsFloat32</span> <span class="n">bottom</span><span class="p">;</span>

    <span class="n">Rect2D</span><span class="p">();</span>
    <span class="n">Rect2D</span><span class="p">(</span><span class="n">Point2D</span> <span class="n">location</span><span class="p">,</span> <span class="n">Size2D</span> <span class="n">size</span><span class="p">);</span>

    <span class="n">NsBool</span> <span class="nf">Contains</span><span class="p">(</span><span class="n">NsFloat32</span> <span class="n">x</span><span class="p">,</span> <span class="n">NsFloat32</span> <span class="n">y</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
    <span class="n">NsBool</span> <span class="nf">Contains</span><span class="p">(</span><span class="k">const</span> <span class="n">Point2D</span><span class="o">&amp;</span> <span class="n">point</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
    <span class="n">NsBool</span> <span class="nf">Contains</span><span class="p">(</span><span class="k">const</span> <span class="n">Rect2D</span><span class="o">&amp;</span> <span class="n">rect</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="n">NS_IMPLEMENT_INLINE_REFLECTION</span><span class="p">(</span><span class="n">Rect2D</span><span class="p">,</span> <span class="n">Core</span><span class="o">::</span><span class="n">NoParent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">NsCtor</span><span class="p">(</span><span class="s">&quot;New&quot;</span><span class="p">);</span>
        <span class="n">NsCtor</span><span class="o">&lt;</span><span class="n">Point2D</span><span class="p">,</span><span class="n">Size2D</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;NewLocSize&quot;</span><span class="p">);</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;ContainsXY&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Rect2D</span><span class="o">::</span><span class="n">ContainsXY</span><span class="p">);</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;ContainsPoint&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Rect2D</span><span class="o">::</span><span class="n">ContainsPoint</span><span class="p">);</span>
        <span class="n">NsFunc</span><span class="p">(</span><span class="s">&quot;ContainsRect&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Rect2D</span><span class="o">::</span><span class="n">ContainsRect</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">/// Usage</span>
<span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">typeClass</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">Rect2D</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">ParamStack</span> <span class="n">paramStack</span><span class="p">;</span>
<span class="n">Point2D</span> <span class="nf">location</span><span class="p">(</span><span class="mf">0.0f</span><span class="p">,</span> <span class="mf">25.0f</span><span class="p">);</span>
<span class="n">paramStack</span><span class="p">.</span><span class="n">Push</span><span class="p">(</span><span class="o">&amp;</span><span class="n">location</span><span class="p">);</span>
<span class="n">Size2D</span> <span class="nf">size</span><span class="p">(</span><span class="mf">300.0f</span><span class="p">,</span> <span class="mf">200.0f</span><span class="p">);</span>
<span class="n">paramStack</span><span class="p">.</span><span class="n">Push</span><span class="p">(</span><span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">typeClass</span><span class="o">-&gt;</span><span class="n">Construct</span><span class="p">(</span><span class="n">NSS</span><span class="p">(</span><span class="s">&quot;NewLocSize&quot;</span><span class="p">),</span> <span class="n">paramStack</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="typeenum">
<h1>TypeEnum</h1>
<p>Enumerations are reflected in a very similar way. For example,</p>
<div class="highlight"><pre><span></span><span class="c1">/// .h</span>
<span class="k">namespace</span> <span class="n">Noesis</span>
<span class="p">{</span>
<span class="k">namespace</span> <span class="n">Gui</span>
<span class="p">{</span>
<span class="c1">////////////////////////////////////////////////////////////////////////////////////////////////////</span>
<span class="c1">/// Specifies the display state of an element.</span>
<span class="c1">////////////////////////////////////////////////////////////////////////////////////////////////////</span>
<span class="k">enum</span> <span class="n">Visibility</span>
<span class="p">{</span>
    <span class="c1">/// Do not display the element, do not reserve space for it in layout</span>
    <span class="n">Visibility_Collapsed</span><span class="p">,</span>

    <span class="c1">/// Do not display the element, but reserve space for it in layout</span>
    <span class="n">Visibility_Hidden</span><span class="p">,</span>

    <span class="c1">/// Display the element</span>
    <span class="n">Visibility_Visible</span>
<span class="p">};</span>
<span class="p">}</span>
<span class="p">}</span>

<span class="n">NS_DECLARE_ENUM</span><span class="p">(</span><span class="n">NS_GUI_CORE_API</span><span class="p">,</span> <span class="n">Noesis</span><span class="o">::</span><span class="n">Gui</span><span class="o">::</span><span class="n">Visibility</span><span class="p">)</span>

<span class="c1">/// .cpp</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">Noesis</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">Noesis</span><span class="o">::</span><span class="n">Gui</span><span class="p">;</span>

<span class="n">NS_IMPLEMENT_ENUM</span><span class="p">(</span><span class="n">Visibility</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">NsMeta</span><span class="o">&lt;</span><span class="n">Core</span><span class="o">::</span><span class="n">TypeId</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Visibility&quot;</span><span class="p">);</span>

    <span class="n">NsVal</span><span class="p">(</span><span class="s">&quot;Collapsed&quot;</span><span class="p">,</span> <span class="n">Visibility_Collapsed</span><span class="p">);</span>
    <span class="n">NsVal</span><span class="p">(</span><span class="s">&quot;Hidden&quot;</span><span class="p">,</span> <span class="n">Visibility_Hidden</span><span class="p">);</span>
    <span class="n">NsVal</span><span class="p">(</span><span class="s">&quot;Visible&quot;</span><span class="p">,</span> <span class="n">Visibility_Visible</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">/// Usage</span>
<span class="k">const</span> <span class="n">TypeEnum</span><span class="o">*</span> <span class="n">typeEnum</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">Visibility</span><span class="o">&gt;::</span><span class="n">Get</span><span class="p">();</span>
<span class="n">NsSize</span> <span class="n">numValues</span> <span class="o">=</span> <span class="n">typeEnum</span><span class="o">-&gt;</span><span class="n">GetNumValues</span><span class="p">();</span>
<span class="n">NS_INFO</span><span class="p">(</span><span class="n">NST</span><span class="p">(</span><span class="s">&quot;Enum %hs has %u values&quot;</span><span class="p">),</span> <span class="n">typeEnum</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">(),</span> <span class="n">numValues</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="n">NsSize</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">numValues</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="n">TypeEnum</span><span class="o">::</span><span class="n">ValueInfo</span><span class="o">*</span> <span class="n">valueInfo</span> <span class="o">=</span> <span class="n">typeEnum</span><span class="o">-&gt;</span><span class="n">GetValueInfo</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="n">NS_INFO</span><span class="p">(</span><span class="n">NST</span><span class="p">(</span><span class="s">&quot;Value %hs = %d&quot;</span><span class="p">),</span> <span class="n">valueInfo</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">.</span><span class="n">GetStr</span><span class="p">(),</span> <span class="n">valueInfo</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="n">typeEnum</span><span class="o">-&gt;</span><span class="n">HasValue</span><span class="p">(</span><span class="n">NSS</span><span class="p">(</span><span class="s">&quot;Center&quot;</span><span class="p">)))</span>
<span class="p">{</span>
   <span class="n">NS_INFO</span><span class="p">(</span><span class="n">NST</span><span class="p">(</span><span class="s">&quot;Value Center = %d&quot;</span><span class="p">),</span> <span class="n">GetValue</span><span class="p">(</span><span class="n">NSS</span><span class="p">(</span><span class="s">&quot;Center&quot;</span><span class="p">)));</span>
<span class="p">}</span>
</pre></div>
<p>When declaring enum reflection, macro must be placed outside any namespace.</p>
</div>
<div class="section" id="typecollection">
<h1>TypeCollection</h1>
<p>Static arrays and STL containers are identified by TypeCollection objects. This class allows the user to traverse a collection without knowing its implementation type.</p>
<div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">DumpCollection</span><span class="p">(</span><span class="k">const</span> <span class="n">TypeClass</span><span class="o">*</span> <span class="n">collection</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">instance</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="n">Type</span><span class="o">*</span> <span class="n">elemType</span> <span class="o">=</span> <span class="n">collection</span><span class="o">-&gt;</span><span class="n">GetElemType</span><span class="p">();</span>
    <span class="n">NsSize</span> <span class="n">numElems</span> <span class="o">=</span> <span class="n">collection</span><span class="o">-&gt;</span><span class="n">GetNumElems</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">NsSize</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">numElems</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">DumpObject</span><span class="p">(</span><span class="n">elemType</span><span class="p">,</span> <span class="n">collection</span><span class="o">-&gt;</span><span class="n">GetElem</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">i</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="typepair">
<h1>TypePair</h1>
<p>This class objects identify STL pair types. It provides access to the <em>first</em> and <em>second</em> members of the pair.</p>
<div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">NsSymbol</span><span class="p">,</span> <span class="n">NsInt</span><span class="o">&gt;</span> <span class="n">value</span><span class="p">;</span>
<span class="n">value</span><span class="p">.</span><span class="n">first</span> <span class="o">=</span> <span class="n">NSS</span><span class="p">(</span><span class="s">&quot;Top&quot;</span><span class="p">);</span>
<span class="n">second</span><span class="p">.</span><span class="n">second</span> <span class="o">=</span> <span class="n">VerticalAlignment_Top</span><span class="p">;</span>

<span class="k">const</span> <span class="n">TypePair</span><span class="o">*</span> <span class="n">typePair</span> <span class="o">=</span> <span class="n">TypeOf</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">NsSymbol</span><span class="p">,</span> <span class="n">NsInt</span><span class="o">&gt;</span> <span class="o">&gt;</span><span class="p">();</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">first</span> <span class="o">=</span> <span class="n">typePair</span><span class="o">-&gt;</span><span class="n">GetFirst</span><span class="p">(</span><span class="o">&amp;</span><span class="n">value</span><span class="p">);</span>
<span class="kt">void</span><span class="o">*</span> <span class="n">second</span> <span class="o">=</span> <span class="n">typePair</span><span class="o">-&gt;</span><span class="n">GetSecond</span><span class="p">(</span><span class="o">&amp;</span><span class="n">value</span><span class="p">);</span>
</pre></div>
</div>


        <!-- NOESIS WEB ------- BEGIN ------- -->

                            </div> <!-- eo noesis_doc_content -->
                        </div> <!-- eo doc_wrap -->
                    </div> <!-- eo noesis_web_contenidosMain -->

                </div> <!-- eo wrapper -->

            </div>  <!-- eo documentation-article -->

        </div> <!-- eo main-content -->

        <footer id="footer" class="SOZO-footer">
            <div class="wrapper">
                <ul class="footer social-icon-list">
                    <li>
                        <a href="https://twitter.com/noesisengine" title="Noesis Twitter" target="_blank">
                            <i class="svg-icon">
                                <svg class="icon-social-twitter">
                                    <use xlink:href="#svg-icon-social-twitter"></use>
                                </svg>
                            </i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/company/noesis-technologies-sl" title="Noesis Linkedin" target="_blank">
                            <i class="svg-icon">
                                <svg class="icon-social-linkedin">
                                    <use xlink:href="#svg-icon-social-linkedin"></use>
                                </svg>
                            </i>
                        </a>
                    </li>
                    <li>
                        <a href="https://vimeo.com/noesisengine" title="Noesis Vimeo" target="_blank">
                            <i class="svg-icon">
                                <svg class="icon-social-vimeo">
                                    <use xlink:href="#svg-icon-social-vimeo"></use>
                                </svg>
                            </i>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.youtube.com/user/NoesisTechnologies" title="Noesis Youtube" target="_blank">
                            <i class="svg-icon">
                                <svg class="icon-social-youtube">
                                    <use xlink:href="#svg-icon-social-youtube"></use>
                                </svg>
                            </i>
                        </a>
                    </li>
                </ul>

                <div class="footer-extended">

                    <div class="cols">

                        <nav class="unit">
                            <h3 class="title">home</h3>
                            <ul>
                                <li><a href="/#goto-home-main-features" class="goto" title="NoesisGUI Main Features">Features</a></li>
                                <li><a href="/#goto-home-apis" class="goto" title="NoesisGUI APIs and Integrations">Integrations</a></li>
                                <li><a href="/#goto-home-platforms" class="goto" title="NoesisGUI Supported Platforms">Platforms</a></li>
                                <li><a href="/#goto-home-clients" class="goto" title="NoesisGUI Happy Clients">Clients</a></li>
                            </ul>
                        </nav>

                        <nav class="unit">
                            <h3 class="title">Licensing</h3>
                            <ul>
                                <li><a href="/licensing.php#goto-licensing-prices" class="goto" title="NoesisGUI Prices">Prices</a></li>
                                <li><a href="/licensing.php#goto-licensing-faqs" class="goto" title="NoesisGUI Licensing FAqs">FAQs</a></li>
                            </ul>
                        </nav>

                        <nav class="unit">
                            <h3 class="title">Developers</h3>
                            <ul>
                                <li>
                                    <div style="display:block;padding: 0.4em 0;">
                                        <a href="/forums" class="goto" title="NoesisGUI Forums" style="display:inline;margin-right:1em;">Forums</a>
                                        <a href="https://bugs.noesisengine.com" class="goto" target="_blank" rel="nofollow" title="NoesisGUI Bug Tracker"style="display:inline;">Bugtracker</a>
                                    </div>
                                </li>
                                <li>
                                    <div style="display:block;padding: 0.4em 0;">
                                        <a href="/developers/samples.php" class="goto" title="NoesisGUI Samples and Tutorials"style="display:inline;margin-right:1em;">Samples</a>
                                        <a href="/developers/downloads.php" class="goto" title="NoesisGUI Downloads" style="display:inline;">Downloads</a>
                                    </div>
                                </li>
                                <li>
                                    <div style="display:block;padding: 0.4em 0;">
                                        <a href="https://trello.com/b/ktVkZaBG/noesisgui" class="goto" target="_blank" rel="nofollow" title="NoesisGUI Roadmap"style="display:inline;margin-right:1em;">Roadmap</a>
                                        <a href="/docs/Gui.Core.Changelog.html" class="goto" title="NoesisGUI Version Changelog"style="display:inline;">Changelog</a>
                                    </div>
                                </li>
                                <li>
                                    <a href="/docs/Gui.Core.Index.html" class="goto" title="NoesisGUI Documentation">Documentation</a>
                                </li>
                            </ul>
                        </nav>

                        <nav class="unit">
                            <h3 class="title">Contact</h3>
                            <ul>
                                <li><a href="/contact.php#goto-contact-about" class="goto" title="About Noesis">About</a></li>
                                <li><a href="/contact.php#goto-contact-details" class="goto" title="Contact Noesis">Contact details</a></li>
                            </ul>
                        </nav>

                    </div>

                    <nav class="legal">
                        <figure class="SOZO-media logo">
                            <img src="/images/logos/noesis-logo-stacked.png">
                        </figure>
                        <p>&copy; 2017 Noesis Technologies</p>
                        <a href="/legal/privacy.php" title="Privacy Policy" rel="nofollow">Privacy</a>
                        <a href="/legal/cookies.php" title="Cookie Policy" rel="nofollow">Cookies</a>
                        <a href="/legal/terms-of-use.php" title="Terms and Conditions" rel="nofollow">Terms &amp; Conditions</a>
                    </nav>

                </div>

                <div class="footer-reduced">
                    <ul>
                        <li><a href="/" class="goto" title="NoesisGUI Main Features">Features</a></li>
                        <li><a href="/licensing.php" class="goto" title="NoesisGUI Prices">Licensing</a></li>
                        <li><a href="/forums" class="goto" title="NoesisGUI Forums">Developer</a></li>
                        <li><a href="/contact.php" class="goto" title="NoesisGUI Prices">Contact</a></li>
                    </ul>
                    <ul class="copyright-legal">
                        <li>&copy; 2017 Noesis Technologies</li>
                        <li><a href="/legal/privacy.php" title="Privacy Policy" rel="nofollow">Privacy</a></li>
                        <li><a href="/legal/terms-of-use.php" title="Terms and Conditions" rel="nofollow">Terms &amp; Conditions</a></li>
                    </ul>
                </div>
            </div>
        </footer>

        <footer id="doc-footer">
            <span>&copy; 2017 Noesis Technologies</span>
        </footer>

    </div> <!-- eo developers documentation -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!-- Use if you want latest version of 1x -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> -->

    <!-- If using 1.11.3 make sure you update the fallback file below to 1.11.3 -->
    <script>window.jQuery || document.write('<script src="/js/vendor/jquery.js"><\/script>')</script>

    <script src="/js/plugins.1481882071.js"></script><script src="/js/main.1485346364.js"></script>

    <!-- NOESIS WEB ------- END ------- -->


</div>
</body>
</html>
